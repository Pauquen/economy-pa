<div class="config-container">
  <!-- Page Header -->
  <header class="config-header">
    <div class="header-content">
      <div class="header-info">
        <h1 class="page-title">System Configuration</h1>
        <p class="page-subtitle">Customize your workspace experience</p>
      </div>
      
      <div class="header-actions">
        <app-button
          variant="ghost"
          size="sm"
          (onClick)="resetAllSettings()"
        >
          üîÑ Reset All
        </app-button>
        
        <app-button
          variant="primary"
          size="md"
          [isLoading]="isSaving()"
          (onClick)="saveAllSettings()"
        >
          üíæ Save Changes
        </app-button>
      </div>
    </div>
  </header>

  <!-- Tab Navigation -->
  <nav class="tabs-navigation">
    <button 
      class="tab-trigger"
      [class.active]="activeTab() === 'profile'"
      (click)="setActiveTab('profile')"
    >
      üë§ Profile
    </button>
    
    <button 
      class="tab-trigger"
      [class.active]="activeTab() === 'preferences'"
      (click)="setActiveTab('preferences')"
    >
      üé® Preferences
    </button>
    
    <button 
      class="tab-trigger"
      [class.active]="activeTab() === 'security'"
      (click)="setActiveTab('security')"
    >
      üîê Security
    </button>
    
    <button 
      class="tab-trigger"
      [class.active]="activeTab() === 'api'"
      (click)="setActiveTab('api')"
    >
      üîó API
    </button>
  </nav>

  <!-- Tab Content -->
  <main class="tabs-content">
    <!-- Profile Tab -->
    <section 
      class="tab-panel"
      [class.active]="activeTab() === 'profile'"
    >
      <div class="profile-section">
        <div class="profile-header">
          <div class="user-avatar">
            <div class="avatar-circle">
              <span class="avatar-initials">{{ getAvatarInitials() }}</span>
            </div>
            <div class="avatar-info">
              <h3 class="user-name">{{ userProfile.fullName() || 'Your Name' }}</h3>
              <p class="user-email">{{ userProfile.email() }}</p>
              <app-button
                variant="ghost"
                size="sm"
                (onClick)="changeAvatar()"
              >
                Change Avatar
              </app-button>
            </div>
          </div>
        </div>

        <form class="profile-form">
          <div class="form-grid">
            <div class="form-group">
              <label for="fullName">Full Name</label>
              <input
                id="fullName"
                name="fullName"
                type="text"
                [(ngModel)]="userProfile.fullName"
                placeholder="Enter your full name"
              />
            </div>

            <div class="form-group">
              <label for="email">Email Address</label>
              <input
                id="email"
                name="email"
                type="email"
                [(ngModel)]="userProfile.email"
                placeholder="Enter your email"
              />
            </div>

            <div class="form-group">
              <label for="phone">Phone Number</label>
              <input
                id="phone"
                name="phone"
                type="tel"
                [(ngModel)]="userProfile.phone"
                placeholder="Enter your phone number"
              />
            </div>

            <div class="form-group">
              <label for="department">Department</label>
              <select
                id="department"
                name="department"
                [(ngModel)]="userProfile.department"
              >
                <option value="">Select Department</option>
                <option value="engineering">Engineering</option>
                <option value="sales">Sales</option>
                <option value="marketing">Marketing</option>
                <option value="hr">Human Resources</option>
                <option value="finance">Finance</option>
                <option value="operations">Operations</option>
              </select>
            </div>

            <div class="form-group full-width">
              <label for="bio">Bio</label>
              <textarea
                id="bio"
                name="bio"
                [(ngModel)]="userProfile.bio"
                placeholder="Tell us about yourself"
                rows="4"
              ></textarea>
            </div>
          </div>
        </form>
      </div>
    </section>

    <!-- Preferences Tab -->
    <section 
      class="tab-panel"
      [class.active]="activeTab() === 'preferences'"
    >
      <div class="preferences-section">
        <div class="preference-group">
          <h3>Theme Settings</h3>
          <div class="theme-options">
            <label class="theme-option">
              <input
                type="radio"
                name="theme"
                value="light"
                [(ngModel)]="userPreferences.theme"
              />
              <span class="theme-preview light"></span>
              <span class="theme-name">Light</span>
            </label>

            <label class="theme-option">
              <input
                type="radio"
                name="theme"
                value="dark"
                [(ngModel)]="userPreferences.theme"
              />
              <span class="theme-preview dark"></span>
              <span class="theme-name">Dark</span>
            </label>

            <label class="theme-option">
              <input
                type="radio"
                name="theme"
                value="auto"
                [(ngModel)]="userPreferences.theme"
              />
              <span class="theme-preview auto"></span>
              <span class="theme-name">Auto</span>
            </label>
          </div>
        </div>

        <div class="preference-group">
          <h3>Accent Color</h3>
          <div class="color-picker">
            @for (color of accentColors; track color) {
              <button
                class="color-option"
                [class.active]="selectedAccentColor() === color"
                [style.background]="color"
                (click)="setAccentColor(color)"
              ></button>
            }
          </div>
        </div>

        <div class="preference-group">
          <h3>Language & Region</h3>
          <div class="form-group">
            <label for="language">Language</label>
            <select
              id="language"
              name="language"
              [(ngModel)]="userPreferences.language"
            >
              <option value="en">English</option>
              <option value="es">Espa√±ol</option>
              <option value="fr">Fran√ßais</option>
              <option value="de">Deutsch</option>
              <option value="zh">‰∏≠Êñá</option>
            </select>
          </div>

          <div class="form-group">
            <label for="timezone">Timezone</label>
            <select
              id="timezone"
              name="timezone"
              [(ngModel)]="userPreferences.timezone"
            >
              <option value="UTC">UTC</option>
              <option value="America/New_York">Eastern Time</option>
              <option value="America/Los_Angeles">Pacific Time</option>
              <option value="Europe/London">London</option>
              <option value="Asia/Tokyo">Tokyo</option>
            </select>
          </div>
        </div>
      </div>
    </section>

    <!-- Security Tab -->
    <section 
      class="tab-panel"
      [class.active]="activeTab() === 'security'"
    >
      <div class="security-section">
        <div class="security-overview">
          <div class="security-score">
            <div class="score-circle">
              <span class="score-value">{{ getSecurityScore() }}</span>
            </div>
            <h3>Security Score</h3>
            <p>Your current security status</p>
          </div>

          <div class="security-alerts">
            <h3>Security Alerts</h3>
            <div class="alert-item warning">
              ‚ö†Ô∏è Password expires in 15 days
            </div>
            <div class="alert-item info">
              ‚ÑπÔ∏è Two-factor authentication enabled
            </div>
          </div>
        </div>

        <div class="security-settings">
          <div class="setting-group">
            <h3>Authentication</h3>
            <label class="setting-toggle">
              <input
                type="checkbox"
                [(ngModel)]="securitySettings.twoFactorEnabled"
              />
              <span class="toggle-slider"></span>
              <span class="setting-label">Two-Factor Authentication</span>
            </label>

            <label class="setting-toggle">
              <input
                type="checkbox"
                [(ngModel)]="securitySettings.sessionTimeout"
              />
              <span class="toggle-slider"></span>
              <span class="setting-label">Auto-logout after inactivity</span>
            </label>
          </div>

          <div class="setting-group">
            <h3>Privacy</h3>
            <label class="setting-toggle">
              <input
                type="checkbox"
                [(ngModel)]="securitySettings.profileVisibility"
              />
              <span class="toggle-slider"></span>
              <span class="setting-label">Make profile visible to others</span>
            </label>

            <label class="setting-toggle">
              <input
                type="checkbox"
                [(ngModel)]="securitySettings.activityTracking"
              />
              <span class="toggle-slider"></span>
              <span class="setting-label">Track user activity</span>
            </label>
          </div>
        </div>
      </div>
    </section>

    <!-- API Tab -->
    <section 
      class="tab-panel"
      [class.active]="activeTab() === 'api'"
    >
      <div class="api-section">
        <div class="api-overview">
          <h3>API Configuration</h3>
          <p>Manage your API keys and endpoints</p>
        </div>

        <div class="api-keys">
          <div class="api-key-item">
            <div class="key-info">
              <h4>Production API Key</h4>
              <p class="key-value">‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢</p>
            </div>
            <div class="key-actions">
              <app-button
                variant="ghost"
                size="sm"
                (onClick)="copyApiKey('production')"
              >
                üìã Copy
              </app-button>
              <app-button
                variant="secondary"
                size="sm"
                (onClick)="regenerateApiKey('production')"
              >
                üîÑ Regenerate
              </app-button>
            </div>
          </div>

          <div class="api-key-item">
            <div class="key-info">
              <h4>Development API Key</h4>
              <p class="key-value">‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢</p>
            </div>
            <div class="key-actions">
              <app-button
                variant="ghost"
                size="sm"
                (onClick)="copyApiKey('development')"
              >
                üìã Copy
              </app-button>
              <app-button
                variant="secondary"
                size="sm"
                (onClick)="regenerateApiKey('development')"
              >
                üîÑ Regenerate
              </app-button>
            </div>
          </div>
        </div>

        <div class="api-endpoints">
          <h3>API Endpoints</h3>
          <div class="endpoint-list">
            <div class="endpoint-item">
              <span class="endpoint-method GET">GET</span>
              <span class="endpoint-url">/api/v1/user/profile</span>
              <span class="endpoint-status connected">Connected</span>
            </div>
            <div class="endpoint-item">
              <span class="endpoint-method POST">POST</span>
              <span class="endpoint-url">/api/v1/processes</span>
              <span class="endpoint-status connected">Connected</span>
            </div>
            <div class="endpoint-item">
              <span class="endpoint-method PUT">PUT</span>
              <span class="endpoint-url">/api/v1/configuration</span>
              <span class="endpoint-status testing">Testing</span>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>
</div>